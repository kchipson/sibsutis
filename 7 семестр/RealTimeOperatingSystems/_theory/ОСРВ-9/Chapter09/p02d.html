<html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=UTF-8">
<title>Chapter 9</title>
</head>
<body bgcolor="#EDE9E0" text="#000000">
<center>
<table align="center" width="90%">
<tr>
<td valign="middle" align="left"><h3>9.2. Пространство файловых дескрипторов</h3></td>
<td valign="middle" align="right"><a href="p02c.html"><img src="../prev.gif" width=27 height=41 border=0></a></td>
<td valign="middle" align="right"><a href="p02e.html"><img src="../next.gif" width=27 height=41 border=0></a></td>
</tr>
</table>
</center>
<hr>

<font color=Blue> Реализация функции write()</font>


<pre>
#include &lt;sys/neutrino.h&gt;
#include &lt;unistd.h&gt;

int write (int fd, const void *buf, int nbytes)
  {
  int header [4];
  iov_t msg [2], rpl [1];
  header[0] = 0x00100102;
  header[1] = nbytes;
  header[2] = header[3] = 0;
  SETIOV (msg+0, header, sizeof header);
  SETIOV (msg+1, buf, nbytes);
  SETIOV (rpl+0, header, sizeof header);

  MsgSendv (fd, msg, 2, rpl, 1);

  return header[1];
  }
</pre>

<font color=Blue> Менеджер ресурсов</font> -- это процесс, выполняющий функции
файлового ввода-вывода посредством соответствующих сообщений.


</body>
</html>

