"use strict";if(void 0===WPFormsChallenge)var WPFormsChallenge={};WPFormsChallenge.builder=window.WPFormsChallenge.builder||function(e,n,l){var o={init:function(){l(e).ready(o.ready),l(n).load(o.load)},ready:function(){o.setup(),o.events()},load:function(){WPFormsChallenge.core.updateTooltipUI(),l(".wpforms-challenge").show()},setup:function(){l.each(["#wpforms-setup-name",".wpforms-setup-title.core",'.wpforms-add-fields-heading[data-group="standard"] span',"#wpforms-panel-field-settings-notification_enable-wrap"],function(e,o){WPFormsChallenge.core.initTooltips(e+1,o)})},events:function(){l("#wpforms-builder").off("click",".wpforms-template-select").on("click",".wpforms-template-select",function(e){o.builderTemplateSelect(this,e)}).on("wpformsPanelSwitch wpformsPanelSectionSwitch",function(){WPFormsChallenge.core.updateTooltipUI()}),l(".wpforms-challenge-step1-done").click(function(){WPFormsChallenge.core.stepCompleted(1)}),l(".wpforms-challenge-step3-done").click(function(){WPFormsChallenge.core.stepCompleted(3),WPFormsBuilder.panelSwitch("settings"),WPFormsBuilder.panelSectionSwitch(l(".wpforms-panel .wpforms-panel-sidebar-section-notifications"))}),l("body").on("click",".wpforms-challenge-step4-done",function(){WPFormsChallenge.core.stepCompleted(4),o.saveFormAndRedirect()}),l.tooltipster.on("ready",function(e){var o=l(e.origin).data("wpforms-challenge-step"),n=l("#wpforms-builder-form").data("id");o=parseInt(o,10)||0,n=parseInt(n,10)||0,3===o&&0<n&&WPFormsChallenge.admin.saveChallengeOption({form_id:n})})},builderTemplateSelect:function(e,o){var n=WPFormsChallenge.core.loadStep();0!==n&&1!==n?WPFormsBuilder.templateSelect(e,o):WPFormsChallenge.core.stepCompleted(2).done(WPFormsBuilder.templateSelect.bind(null,e,o))},saveFormAndRedirect:function(){WPFormsBuilder.formSave().success(o.embedPageRedirect)},embedPageRedirect:function(e){if(e.success){var o={action:"wpforms_challenge_embed_page_url",_wpnonce:WPFormsChallenge.admin.l10n.nonce};l.post(ajaxurl,o,function(e){e.success&&(n.location=e.data)})}}};return o}(document,window,jQuery),WPFormsChallenge.builder.init();